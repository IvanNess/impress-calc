$inputWidth: 3rem;
$selectedWidth: 3.5rem;
$inputLeftMargin: 5px;


$height: 2rem;
$selectedPadding: 5px;
$border-radius: 3px;
$right: 4px;
$commonColor: #afa8a8;
$selectingColor: #9c9696;
$arrowWidth: 12px;

$width: calc(#{$inputWidth} + #{$selectedWidth} + #{$inputLeftMargin} + #{$selectedPadding} + #{$arrowWidth});


.aux-panel{
  
  display: flex;
  flex-direction: row;
  align-items: center;
  height: $height;
  width: $width;
  &.first{
    width: 0;
    opacity: 0;
  }
  &.show{
      -webkit-animation: fade-in 0.4s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
              animation: fade-in 0.4s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
  }
  &:not(.first).hide{
      -webkit-animation: fade-out 0.4s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
              animation: fade-out 0.4s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
  }
  .input{
    input{
      background-color: $commonColor;
      margin: 0 $inputLeftMargin;
      padding: 0;
      border-radius: $border-radius;
      height: calc(#{$height} - 4px); //4px- 2 * border
      width: $inputWidth;
      &:focus{
        outline: none;
        box-shadow: inset 0 0 0 1px $selectingColor;
      }
    }
  }
  .choice-panel{
    
    background-color: $commonColor;
    position: relative;
    border-radius: $border-radius;

    
    .selected{
        width: $selectedWidth;
        height: calc(#{$height} - 2*#{$selectedPadding});
        padding: $selectedPadding;
        display: flex;
        flex-direction: column;
        justify-content: center;
        &:not(.open):not(.alone)::after{
            cursor: pointer;
            content: "";
            width: 0;
            height: 0;
            position: absolute;
            right: $right;
            top: calc(50% - #{$selectedPadding});
            margin-top: 0px;
            border-top: 10px solid red;  
            border-left: $arrowWidth/2 solid transparent;
            border-right: $arrowWidth/2 solid transparent;  
        }
        &:not(.alone).open::after{
            cursor: pointer;
            content: "";
            width: 0;
            height: 0;
            position: absolute;
            right: $right;
            top: calc(50% - #{$selectedPadding});
            margin-top: 0px;
            border-bottom: 10px solid red;  
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;  
        }
        &:hover{
            cursor: pointer;
        }
        &.alone:hover{
          cursor: default;
        }
    }
    .choices{
        position: absolute;
        left: 0;   
        top: calc(100% - #{$border-radius});     
        .param{
            width: $selectedWidth;
            padding: $selectedPadding;
            background-color: rgba($color: $commonColor, $alpha: 1);
            &:last-child{
                border-radius: 0 0 $border-radius $border-radius;
            }
            &:hover{
                cursor: pointer;
            }
            &.chosen{
                background-color: $selectingColor;
            }
    }
        
    }
  }
}


@-webkit-keyframes fade-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
}
@keyframes fade-in {
    0% {
      opacity: 0;
      width: 0;
      //transform: translateY(100%);
    }
    50%{
      opacity: 0;
      //transform: translateY(100%);
    }
    100% {
      opacity: 1;
      width: $width;
      //transform: translateY(0);
    }
}

@-webkit-keyframes fade-out {
    0% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
}
@keyframes fade-out {
    0% {
      opacity: 1;
      width: $width;
      //transform: translateY(0);
    }
    20%{
      opacity: 0;
    }
    100% {
      opacity: 0;
      width: 0;
      //transform: translateY(100%);
    }
}
  